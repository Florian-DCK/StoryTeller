<main class="px-2 py-6 flex-1 flex justify-around">
    <!-- ------------- -->
    <!-- Search region -->
    <!-- ------------- -->
    <aside class="w-1/5 h-2/3 border py-2 px-2">

    </aside>

    <!-- ------------- -->
    <!-- Ticket region -->
    <!-- ------------- -->
    <div id="ticketContainer" class="border w-2/5 h-2/3 py-2 px-2 grow-[0.5]">
        <div class="flex flex-col items-center mb-4">
            <h2 class="font-family-joan text-center font-bold text-2xl uppercase">Tickets</h2>
            <div class="bg-black h-0.5 w-1/2"></div>
        </div>
        {{#tickets}}
            {{>ticket}}
        {{/tickets}}
    </div>
    <!-- ------------- -->
    <!-- Data region -->
    <!-- ------------- -->
    <aside id="dataSide" class="w-1/5 h-2/3 border py-2 px-2">
        <div class="flex flex-col items-center mb-4">
            <h2 class="font-family-joan text-center font-bold text-2xl uppercase">Data</h2>
            <div class="bg-black h-0.5 w-1/2"></div>
        </div>
        <div class="flex flex-col font-family-joan text-xl gap-y-3">
            <p>Avg users: <span id="avgUsers">{{avgUsers}}</span></p>
            <p>Pending Tickets: <span id="ticketSpan">{{pendingTickets}}</span></p>
            <p>Stories : <span id="totPosts">{{totPosts}}</span></p>
            <p>Unique users: <span id="totUsers">{{totUsers}}</span></p>
        </div>
    </aside>
</main>

<script>
    //change the color of the pending tickets depending on the number of tickets
    const ticketSpan = document.getElementById('ticketSpan');
    const pendingTickets = parseInt(ticketSpan.innerText);
    if (pendingTickets >= 10) {
        ticketSpan.classList.add('text-red-500');
        ticketSpan.classList.add('font-bold');
    } else if (pendingTickets >= 5) {
        ticketSpan.classList.add('text-yellow-500');
    } else {
        ticketSpan.classList.add('text-green-500');
    }
</script>